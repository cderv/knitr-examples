# Testing text output

See if chunk options like `tidy`, `prompt` and `echo`, etc work as expected.

## A normal chunk

```{r}
#| label: demo
1+1
for (i in 1:10) {
# nothing before 10
if(i>=10)print(i)
}
# two blank lines below


dnorm(0)
```

## Do not evaluate

```{r}
#| label: demo
#| eval: false
```

## Add prompts

```{r}
#| label: demo
#| prompt: true
```

## No evaluate or tidy

```{r}
#| label: demo
#| eval: false
#| tidy: false
```

## Do not tidy

```{r}
#| label: demo
#| tidy: false
```

## Do not echo

```{r}
#| label: demo
#| echo: false
```

## Do not comment out results

```{r}
#| label: demo
#| comment: .na
```

## Do not echo the 2nd expression

```{r}
#| label: demo
#| echo: !expr '-2'
```

## Do not evaluate, echo the 2nd expression

```{r}
#| label: demo
#| eval: false
#| echo: 2.0
```

## Only evaluate the first two expressions

```{r}
#| label: demo
#| eval: !expr '1:2'
```

## Add prompts but no tidy

```{r}
#| label: demo
#| tidy: false
#| prompt: true
```

## Prompts, no evaluate or tidy

```{r}
#| label: demo
#| eval: false
#| tidy: false
#| prompt: true
```

## Change prompts

```{r}
options(prompt='R> ', continue='+  ')
```

```{r}
#| label: demo
#| prompt: true
```

## Backslashes

```{r}
{
# can you deal with \code{foo} or \n, \a?
gsub('\\.', '\\\\', 'a.b.c') # \link{bar}
}
cat('a\tb\nc')
```

## Other formatR options

We can set **formatR** options globally:

```{r}
options(formatR.blank = FALSE)
```

```{r}
#| label: demo
#| eval: false
```

Or locally in one chunk via `tidy.opts`. Do not keep comments:

```{r}
#| label: demo
#| eval: false
#| tidy.opts: !expr list(comment = FALSE)
```

Move left braces to the next line:

```{r}
#| label: demo
#| eval: 2.0
#| echo: 2.0
#| tidy.opts: !expr list(brace.newline = TRUE)
```

Indent by 2 spaces:

```{r}
#| label: demo
#| eval: false
#| tidy.opts: !expr list(indent = 2)
```

See <http://yihui.org/formatR> for details.

## Empty chunks

```{r}

```

## Messages

Do not include messages:

```{r}
#| message: false
1+1
message('helloooo!')
```

No warnings:

```{r}
#| label: test-w
#| warning: false
1:2+1:3
warning('no no no')
```

Select warnings using numeric indices:

```{r}
#| label: test-w
#| warning: !expr '-1'
```

Invalid indices will select nothing:

```{r}
#| label: test-w
#| warning: 3.0
```

## The results option

Do not show text results:

```{r}
#| label: demo
#| results: hide
```

Flush all results to the end of a chunk:

```{r}
#| label: demo
#| results: hold
```

Output as is:

```{r}
#| results: asis
cat('_Markdown_,', 'oh yeah, **Markdown**')
```
